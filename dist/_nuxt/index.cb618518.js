import{_ as b,o,c as l,F as S,r as x,n as p,t as g,g as h,h as _,i as N,a as r,d as m,b as k,j as w,k as C,w as A}from"./entry.abf5d1b7.js";import{_ as B}from"./nuxt-link.c0ef3630.js";const T={name:"PAGINATOR",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},perSubset:{type:Number,default:5}},computed:{pages(){const u=this.totalPages,a=this.currentPage,i=this.perSubset,c=(Math.ceil(a/i)-1)*i+1,t=Math.min(c+i-1,u);return Array.from({length:t-c+1},(s,d)=>c+d)},showPreviousSubset(){return this.currentPage>this.perSubset},showNextSubset(){return this.currentPage+this.perSubset<=this.totalPages}},methods:{changePage(u){this.$emit("page-change",u)},previousSubset(){const u=this.currentPage-this.perSubset;this.changePage(u)},nextSubset(){const u=this.currentPage+this.perSubset;this.changePage(u)},goBack(){this.changePage(1)}}},I={class:"pagination"},E=["onClick"];function V(u,a,i,n,c,t){return o(),l("div",I,[(o(!0),l(S,null,x(t.pages,s=>(o(),l("button",{key:s,class:p(["pagination-button",{active:s===i.currentPage}]),onClick:d=>t.changePage(s)},g(s),11,E))),128)),t.showPreviousSubset?(o(),l("button",{key:0,class:"pagination-button",onClick:a[0]||(a[0]=(...s)=>t.previousSubset&&t.previousSubset(...s))}," « ")):h("",!0),t.showNextSubset?(o(),l("button",{key:1,class:"pagination-button",onClick:a[1]||(a[1]=(...s)=>t.nextSubset&&t.nextSubset(...s))}," » ")):h("",!0),i.currentPage>1?(o(),l("button",{key:2,class:"pagination-button",onClick:a[2]||(a[2]=(...s)=>t.goBack&&t.goBack(...s))}," Назад ")):h("",!0)])}const M=b(T,[["render",V]]);const O={setup(){const a=_(1),i=_(null),n=_(0),c=_("asc"),t=async e=>{try{const v=await(await w(()=>import("./index.3346c753.js").then(f=>f.i),[],import.meta.url)).default.get("https://jsonplaceholder.typicode.com/comments",{params:{_page:e,_limit:10,_sort:"id",_order:c.value}});i.value=v.data;const y=v.headers["x-total-count"];n.value=Math.ceil(y/10)}catch(P){console.error("Error with fetch: ",P)}},s=()=>{c.value=c.value==="asc"?"desc":"asc",t(a.value)},d=e=>{a.value=e,t(e)};return N(()=>{t(a.value)}),{perPage:10,currentPage:a,comments:i,totalPages:n,fetchComments:t,changePage:d,sortid:c,Sortid:s}}},R={class:"wrapper"},q={class:"table"},D={key:0},G={key:1},L=r("th",null,"Name",-1),j=r("th",null,"Email",-1);function F(u,a,i,n,c,t){const s=B,d=M;return o(),l("div",R,[r("table",q,[r("thead",null,[r("tr",null,[r("th",{onClick:a[0]||(a[0]=(...e)=>n.Sortid&&n.Sortid(...e))},[m(" ID "),n.sortid==="asc"?(o(),l("span",D,"▲")):n.sortid==="desc"?(o(),l("span",G,"▼")):h("",!0)]),L,j])]),r("tbody",null,[(o(!0),l(S,null,x(n.comments,e=>(o(),C(s,{key:e.id,target:"_blank",to:{path:"/comment",query:e},class:"table-row-link"},{default:A(()=>[r("tr",null,[r("td",null,[r("div",{class:p(["circle",{circle:e.id<=99,cloud:e.id>99,blue:e.id<=50,green:e.id>50&&e.id<=100,orange:e.id>100&&e.id<=150,red:e.id>150}])},g(e.id),3)]),r("td",null,g(e.name),1),r("td",null,[r("div",{class:p(["cloud",{green:e.id<=50,blue:e.id>50&&e.id<=100,red:e.id>100&&e.id<=150,orange:e.id>150}])},g(e.email),3)])])]),_:2},1032,["to"]))),128))])]),k(d,{"current-page":n.currentPage,"total-pages":n.totalPages,onPageChange:n.changePage},null,8,["current-page","total-pages","onPageChange"])])}const z=b(O,[["render",F]]),$={name:"IndexPage"};function H(u,a,i,n,c,t){const s=z;return o(),l("main",null,[k(s)])}const Q=b($,[["render",H]]);export{Q as default};
