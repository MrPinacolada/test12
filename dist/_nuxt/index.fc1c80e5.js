import{_ as p,o as u,c as l,F as b,r as v,n as y,t as g,g as h,h as d,i as k,a as c,d as N,b as S,j as w,k as C,w as A}from"./entry.f3a16584.js";import{_ as T}from"./nuxt-link.63ce98a7.js";const I={name:"PAGINATOR",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},perSubset:{type:Number,default:5}},computed:{pages(){const r=this.totalPages,t=this.currentPage,i=this.perSubset,o=(Math.ceil(t/i)-1)*i+1,e=Math.min(o+i-1,r);return Array.from({length:e-o+1},(n,_)=>o+_)},showPreviousSubset(){return this.currentPage>this.perSubset},showNextSubset(){return this.currentPage+this.perSubset<=this.totalPages}},methods:{changePage(r){this.$emit("page-change",r)},previousSubset(){const r=this.currentPage-this.perSubset;this.changePage(r)},nextSubset(){const r=this.currentPage+this.perSubset;this.changePage(r)}}},E={class:"pagination"},V=["onClick"];function B(r,t,i,s,o,e){return u(),l("div",E,[(u(!0),l(b,null,v(e.pages,n=>(u(),l("button",{key:n,class:y(["pagination-button",{active:n===i.currentPage}]),onClick:_=>e.changePage(n)},g(n),11,V))),128)),e.showPreviousSubset?(u(),l("button",{key:0,class:"pagination-button",onClick:t[0]||(t[0]=(...n)=>e.previousSubset&&e.previousSubset(...n))}," « ")):h("",!0),e.showNextSubset?(u(),l("button",{key:1,class:"pagination-button",onClick:t[1]||(t[1]=(...n)=>e.nextSubset&&e.nextSubset(...n))}," » ")):h("",!0)])}const M=p(I,[["render",B]]);const O={setup(){const t=d(1),i=d(null),s=d(0),o=d("asc"),e=async a=>{try{const P=await(await w(()=>import("./index.395d0b37.js").then(f=>f.i),[],import.meta.url)).default.get("https://jsonplaceholder.typicode.com/comments",{params:{_page:a,_limit:10,_sort:"id",_order:o.value}});i.value=P.data;const x=P.headers["x-total-count"];s.value=Math.ceil(x/10)}catch(m){console.error("Error with fetch: ",m)}},n=()=>{o.value=o.value==="asc"?"desc":"asc",e(t.value)},_=a=>{t.value=a,e(a)};return k(()=>{e(t.value)}),{perPage:10,currentPage:t,comments:i,totalPages:s,fetchComments:e,changePage:_,sortid:o,Sortid:n}}},R={class:"wrapper"},$={class:"table"},q={key:0},D={key:1},G=c("th",null,"Name",-1),L=c("th",null,"Email",-1);function j(r,t,i,s,o,e){const n=T,_=M;return u(),l("div",R,[c("table",$,[c("thead",null,[c("tr",null,[c("th",{onClick:t[0]||(t[0]=(...a)=>s.Sortid&&s.Sortid(...a))},[N(" ID "),s.sortid==="asc"?(u(),l("span",q,"▲")):s.sortid==="desc"?(u(),l("span",D,"▼")):h("",!0)]),G,L])]),c("tbody",null,[(u(!0),l(b,null,v(s.comments,a=>(u(),C(n,{key:a.id,target:"_blank",to:{path:"/comment",query:a},class:"table-row-link"},{default:A(()=>[c("tr",null,[c("td",null,g(a.id),1),c("td",null,g(a.name),1),c("td",null,g(a.email),1)])]),_:2},1032,["to"]))),128))])]),S(_,{"current-page":s.currentPage,"total-pages":s.totalPages,onPageChange:s.changePage},null,8,["current-page","total-pages","onPageChange"])])}const F=p(O,[["render",j]]),z={name:"IndexPage"};function H(r,t,i,s,o,e){const n=F;return u(),l("main",null,[S(n)])}const Q=p(z,[["render",H]]);export{Q as default};
